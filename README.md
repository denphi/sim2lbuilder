# Sim2lBuilder Stats

<table>
    <tr>
        <td>Latest Release</td>
        <td>
            <a href="https://pypi.org/project/sim2lbuilder/"/>
            <img src="https://badge.fury.io/py/sim2lbuilder.svg"/>
        </td>
    </tr>
    <tr>
        <td>PyPI Downloads</td>
        <td>
            <a href="https://pepy.tech/project/sim2lbuilder"/>
            <img src="https://pepy.tech/badge/sim2lbuilder/month"/>
            <img src="https://pepy.tech/badge/sim2lbuilder"/>
        </td>
    </tr>
    <tr>
        <td>Some Examples</td>
        <td>
            <a href='https://nanohub.org/tools/pnjunctionapp/invoke/23' target='_blank'><img src='https://img.shields.io/badge/pnjunctionapp-nanoHUB-5CA0BC.svg?style=&logo=data:image/svg%2bxml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSI3OS43IiBoZWlnaHQ9IjgzIj48ZyBmaWxsPSIjRkZGIj48cGF0aCBkPSJtMzYgNDEgMS0zaDRsMSAzdjhsMSAxIDEgMWgydi05YzAtMyAwLTUtMi02bC01LTItNSAyLTIgNnY5aDRWNDF6Ii8+PHBhdGggZD0iTTcxIDM5Yy0zIDAtNiAxLTcgNGgtM2MwLTQtMS03LTMtMTBsNC0zIDQgMWE3IDcgMCAxIDAtNy01bC0zIDMtNy01di0xbDItNWgxYTggOCAwIDEgMC01LTJsLTIgNmEyMSAyMSAwIDAgMC0xMSAwbC0xLTNhNyA3IDAgMSAwLTQgMnYybDEgMWMtNCAxLTcgNC05IDdsLTMtMmE4IDggMCAxIDAtMiA0bDMgMmEyMSAyMSAwIDAgMC0xIDEwaC0xbC0zIDFhNyA3IDAgMSAwIDEgNGw0LTFjMSAzIDIgNiA1IDhsLTEgMS00IDQtMy0xYTggOCAwIDEgMCA3IDRsNC01YzMgMyA2IDQgMTEgNHY1Yy0zIDEtNCAzLTQgNiAwIDQgMyA3IDYgNyA0IDAgNy0zIDctNyAwLTMtMi02LTUtNnYtNWMzIDAgNy0yIDEwLTR2MWw0IDNhOCA4IDAgMSAwIDE1IDVjMC01LTQtOC04LThoLTRsLTMtMy0xLTFjMy0zIDQtNiA1LTEwaDRhNyA3IDAgMCAwIDE0LTFjMC00LTMtNy03LTd6bS01LTE3YTIgMiAwIDEgMSAwIDUgMiAyIDAgMCAxIDAtNXpNMTAgMzJhNCA0IDAgMSAxIDAtOCA0IDQgMCAwIDEgMCA4ek04IDUyYTIgMiAwIDEgMSAwLTUgMiAyIDAgMCAxIDAgNXptOCAyMmE0IDQgMCAxIDEgMC04IDQgNCAwIDAgMSAwIDh6bTQ3LTlhNCA0IDAgMSAxIDAgOCA0IDQgMCAwIDEgMC04ek01MiA2YTQgNCAwIDEgMSAwIDggNCA0IDAgMCAxIDAtOHpNMjggMTZhMiAyIDAgMSAxIDAtNCAyIDIgMCAwIDEgMCA0em0xMSAxMmExNSAxNSAwIDEgMSAwIDMwIDE1IDE1IDAgMCAxIDAtMzB6bTQgNDdhMiAyIDAgMSAxLTUgMCAyIDIgMCAwIDEgNSAwem0yOC0yNmEzIDMgMCAxIDEgMC02IDMgMyAwIDAgMSAwIDZ6Ii8+PC9nPjwvc3ZnPg=='></a><br>
            <a href='https://nanohub.org/tools/st4crystal/invoke/8' target='_blank'><img src='https://img.shields.io/badge/st4crystal-nanoHUB-5CA0BC.svg?style=&logo=data:image/svg%2bxml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSI3OS43IiBoZWlnaHQ9IjgzIj48ZyBmaWxsPSIjRkZGIj48cGF0aCBkPSJtMzYgNDEgMS0zaDRsMSAzdjhsMSAxIDEgMWgydi05YzAtMyAwLTUtMi02bC01LTItNSAyLTIgNnY5aDRWNDF6Ii8+PHBhdGggZD0iTTcxIDM5Yy0zIDAtNiAxLTcgNGgtM2MwLTQtMS03LTMtMTBsNC0zIDQgMWE3IDcgMCAxIDAtNy01bC0zIDMtNy01di0xbDItNWgxYTggOCAwIDEgMC01LTJsLTIgNmEyMSAyMSAwIDAgMC0xMSAwbC0xLTNhNyA3IDAgMSAwLTQgMnYybDEgMWMtNCAxLTcgNC05IDdsLTMtMmE4IDggMCAxIDAtMiA0bDMgMmEyMSAyMSAwIDAgMC0xIDEwaC0xbC0zIDFhNyA3IDAgMSAwIDEgNGw0LTFjMSAzIDIgNiA1IDhsLTEgMS00IDQtMy0xYTggOCAwIDEgMCA3IDRsNC01YzMgMyA2IDQgMTEgNHY1Yy0zIDEtNCAzLTQgNiAwIDQgMyA3IDYgNyA0IDAgNy0zIDctNyAwLTMtMi02LTUtNnYtNWMzIDAgNy0yIDEwLTR2MWw0IDNhOCA4IDAgMSAwIDE1IDVjMC01LTQtOC04LThoLTRsLTMtMy0xLTFjMy0zIDQtNiA1LTEwaDRhNyA3IDAgMCAwIDE0LTFjMC00LTMtNy03LTd6bS01LTE3YTIgMiAwIDEgMSAwIDUgMiAyIDAgMCAxIDAtNXpNMTAgMzJhNCA0IDAgMSAxIDAtOCA0IDQgMCAwIDEgMCA4ek04IDUyYTIgMiAwIDEgMSAwLTUgMiAyIDAgMCAxIDAgNXptOCAyMmE0IDQgMCAxIDEgMC04IDQgNCAwIDAgMSAwIDh6bTQ3LTlhNCA0IDAgMSAxIDAgOCA0IDQgMCAwIDEgMC04ek01MiA2YTQgNCAwIDEgMSAwIDggNCA0IDAgMCAxIDAtOHpNMjggMTZhMiAyIDAgMSAxIDAtNCAyIDIgMCAwIDEgMCA0em0xMSAxMmExNSAxNSAwIDEgMSAwIDMwIDE1IDE1IDAgMCAxIDAtMzB6bTQgNDdhMiAyIDAgMSAxLTUgMCAyIDIgMCAwIDEgNSAwem0yOC0yNmEzIDMgMCAxIDEgMC02IDMgMyAwIDAgMSAwIDZ6Ii8+PC9nPjwvc3ZnPg=='></a><br>
            <a href='https://nanohub.org/tools/pcpbtapp/invoke/20' target='_blank'><img src='https://img.shields.io/badge/pcpbtapp-nanoHUB-5CA0BC.svg?style=&logo=data:image/svg%2bxml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSI3OS43IiBoZWlnaHQ9IjgzIj48ZyBmaWxsPSIjRkZGIj48cGF0aCBkPSJtMzYgNDEgMS0zaDRsMSAzdjhsMSAxIDEgMWgydi05YzAtMyAwLTUtMi02bC01LTItNSAyLTIgNnY5aDRWNDF6Ii8+PHBhdGggZD0iTTcxIDM5Yy0zIDAtNiAxLTcgNGgtM2MwLTQtMS03LTMtMTBsNC0zIDQgMWE3IDcgMCAxIDAtNy01bC0zIDMtNy01di0xbDItNWgxYTggOCAwIDEgMC01LTJsLTIgNmEyMSAyMSAwIDAgMC0xMSAwbC0xLTNhNyA3IDAgMSAwLTQgMnYybDEgMWMtNCAxLTcgNC05IDdsLTMtMmE4IDggMCAxIDAtMiA0bDMgMmEyMSAyMSAwIDAgMC0xIDEwaC0xbC0zIDFhNyA3IDAgMSAwIDEgNGw0LTFjMSAzIDIgNiA1IDhsLTEgMS00IDQtMy0xYTggOCAwIDEgMCA3IDRsNC01YzMgMyA2IDQgMTEgNHY1Yy0zIDEtNCAzLTQgNiAwIDQgMyA3IDYgNyA0IDAgNy0zIDctNyAwLTMtMi02LTUtNnYtNWMzIDAgNy0yIDEwLTR2MWw0IDNhOCA4IDAgMSAwIDE1IDVjMC01LTQtOC04LThoLTRsLTMtMy0xLTFjMy0zIDQtNiA1LTEwaDRhNyA3IDAgMCAwIDE0LTFjMC00LTMtNy03LTd6bS01LTE3YTIgMiAwIDEgMSAwIDUgMiAyIDAgMCAxIDAtNXpNMTAgMzJhNCA0IDAgMSAxIDAtOCA0IDQgMCAwIDEgMCA4ek04IDUyYTIgMiAwIDEgMSAwLTUgMiAyIDAgMCAxIDAgNXptOCAyMmE0IDQgMCAxIDEgMC04IDQgNCAwIDAgMSAwIDh6bTQ3LTlhNCA0IDAgMSAxIDAgOCA0IDQgMCAwIDEgMC04ek01MiA2YTQgNCAwIDEgMSAwIDggNCA0IDAgMCAxIDAtOHpNMjggMTZhMiAyIDAgMSAxIDAtNCAyIDIgMCAwIDEgMCA0em0xMSAxMmExNSAxNSAwIDEgMSAwIDMwIDE1IDE1IDAgMCAxIDAtMzB6bTQgNDdhMiAyIDAgMSAxLTUgMCAyIDIgMCAwIDEgNSAwem0yOC0yNmEzIDMgMCAxIDEgMC02IDMgMyAwIDAgMSAwIDZ6Ii8+PC9nPjwvc3ZnPg=='></a><br>
        </td>
    </tr>
</table>

# Simtool Builder


## Introduction

sim2lbuilder is an utility library to create Graphical User interfaces on Jupyter notebooks.
sim2lbuilder is based on ipywidgets, and allow users to describe Apps based on their inputs, outputs and layout. Callback functions can also be referenced to be triggered by events on the widgets
sim2lbuilder can display described tools as widgets, or generate python code to be modified.

## Installation


```bash
pip install sim2lbuilder
```


## Usage


```python
schema = {
  'inputs': { 
    'n1': { 'type': 'IntText', 'value': 1}, 
    'n2': { 'type': 'IntText', 'value': 3}
  },
  'outputs': { 
    'sol': { 'type': 'IntText'}, 
  },
  'layout': { 
    'type': 'HBox',
    'children' : {
      'n1': None,
      'n2': None,
      'button' : {
        'type': 'Button',
        'click': 'SUM',
        'description': '=',
      },
      'sol': None
    }
  }
}
from sim2lbuilder import WidgetConstructor
s = WidgetConstructor(schema)
def SUM (w):
    w.outputs["sol"].value = w.inputs["n1"].value + w.inputs["n2"].value
s.SUM = SUM
s.assemble()
SUM(s)
display(s)

```

## Create a Sim2l GUI (Widget) 


```python
from sim2lbuilder import WidgetConstructor, GetSimtoolDefaultSchema
from simtool import searchForSimTool, getSimToolInputs, Run
schema = GetSimtoolDefaultSchema("meltingkim")
def RunSimTool(widget, *kargs):
    stl = searchForSimTool("meltingkim")
    inputs =getSimToolInputs(stl)
    for i,w in widget.inputs.items():
        inputs[i].value = w.value
    r =Run(stl, inputs)
    for outk, out in widget.outputs.items():
        with out:
            print(r.read(outk))
s = WidgetConstructor(schema)
s.RunSimTool = RunSimTool
s.assemble()
s

```

## Create a Sim2l GUI (Generate Code) 


```python
from sim2lbuilder import WidgetConstructor, GetSimtoolDefaultSchema
from simtool import searchForSimTool, getSimToolInputs, Run
schema = GetSimtoolDefaultSchema("meltingkim")
def RunSimTool(widget, *kargs):
    stl = searchForSimTool("meltingkim")
    inputs =getSimToolInputs(stl)
    for i,w in widget.inputs.items():
        inputs[i].value = w.value
    r =Run(stl, inputs)
    for outk, out in widget.outputs.items():
        with out:
            print(r.read(outk))
s = WidgetConstructor(schema, format="file")
s.RunSimTool = RunSimTool
s.assemble()
s

```

## Create a Sim2l GUI (Print Code) 

```python
from sim2lbuilder import WidgetConstructor, GetSimtoolDefaultSchema
from simtool import searchForSimTool, getSimToolInputs, Run
schema = GetSimtoolDefaultSchema("meltingkim")
def RunSimTool(widget, *kargs):
    stl = searchForSimTool("meltingkim")
    inputs =getSimToolInputs(stl)
    for i,w in widget.inputs.items():
        inputs[i].value = w.value
    r =Run(stl, inputs)
    for outk, out in widget.outputs.items():
        with out:
            print(r.read(outk))
s = WidgetConstructor(schema, format="text")
s.RunSimTool = RunSimTool
s.assemble()
s

```

## Create a Sim2l App (Javascript)

```python
from sim2lbuilder import *
schema = GetSimtoolDefaultSchema("introtosimtools")
s = UIDLConstructor(schema, drawer_width=350, width="100%", height="600px")
s.assemble(
    jupyter_notebook_url=jupyter_notebook_url,  
)
```

## Create a Sim2l App - Jupyter widget (ipywidget)


```python
from sim2lbuilder import *
schema = GetSimtoolDefaultSchema("introtosimtools")
s = UIDLConstructor(schema, drawer_width=350, width="100%", height="600px")
s.assemble(
    jupyter_notebook_url=jupyter_notebook_url, 
    uidl_local = True,
    copy_libraries=True,
    widget = False,    
)
